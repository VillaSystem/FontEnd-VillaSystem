<div class="wine-list-container">
  <h1 class="title"><span class="link-text">{{ 'SIDENAV-CONSUMER.WINES' | translate }}</span></h1>

  <div class="search-container">
    <mat-form-field appearance="outline">
      <mat-label>{{ 'CONSUMER.FILTER_BY' | translate }}</mat-label>
      <mat-select [(value)]="selectedFilter" (selectionChange)="onFilterChange($event.value)">
        <mat-option value="nombre">{{ 'CONSUMER.NAME' | translate }}</mat-option>
        <mat-option value="tipo">{{ 'CONSUMER.TYPE' | translate }}</mat-option>
        <mat-option value="uvas">{{ 'CONSUMER.GRAPES' | translate }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field *ngIf="selectedFilter === 'nombre'" appearance="outline">
      <mat-label>{{ 'CONSUMER.SEARCH' | translate }}</mat-label>
      <input matInput (input)="applyFilter($event)" placeholder="{{ 'CONSUMER.SEARCH' | translate }} por {{selectedFilter}}">
    </mat-form-field>

    <mat-form-field *ngIf="selectedFilter === 'tipo' || selectedFilter === 'uvas'" appearance="outline">
      <mat-label>{{ 'CONSUMER.SELECT' | translate }} {{selectedFilter}}</mat-label>
      <mat-select (selectionChange)="onSelectOption($event.value)">
        <mat-option *ngFor="let option of filterOptions" [value]="option">{{option}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <!-- Contenedor para las tarjetas -->
  <div class="wine-card-container">
    <div *ngFor="let product of filteredProducts" class="wine-card">
      <img class="wine-image" [src]="product.link" alt="{{product.nombre}}">
      <div class="wine-info">
        <h3>{{product.nombre}}</h3>
        <p>{{product.descripcion}}</p>
        <button mat-raised-button (click)="onBuyWine($event, product)">{{ 'CONSUMER.BUY' | translate }}</button>
      </div>
    </div>
  </div>

  <mat-paginator [pageSize]="10"></mat-paginator>
</div>
